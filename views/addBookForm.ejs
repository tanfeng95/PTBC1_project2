<%- include('header', {title: `Add Book`}); -%>

  <body>
    <div class="container ">
      <%- include('navBar',{username : `${username}`}); -%>
        <% if(typeof alert !='undefined' ) { %>
          <% alert.forEach(function(error) { %>
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
              <%= error.msg %>
            </div>
            <% }) %>
              <% } %>
                <div class='d-flex justify-content-between'>
                  <h1>Add New book</h1>
                </div>
                <form action="/library/addbook" method="POST" class='post-form was-validated'
                  enctype="multipart/form-data">

                  <div class="mb-3 mt-3">
                    <label class='form-label' for="fname">Book Title :</label><br />
                    <input class='form-control' id="bookTitle" type="text" name="bookTitle" required />
                    <div class="valid-feedback">Valid.</div>
                    <div class="invalid-feedback">Please fill out this field.</div>
                  </div>
                  <div class="mb-3 mt-3">
                    <label class='form-label' for="lname">Author :</label><br />
                    <input class='form-control' id="author" type="text" name="author" required />
                    <div class="valid-feedback">Valid.</div>
                    <div class="invalid-feedback">Please fill out this field.</div>
                  </div>
                  <div class="mb-3 mt-3">
                    <label class='form-label' for="uname">Chapters:</label><br />
                    <input class='form-control' id="chapters" type="number" name="chapters" required />
                    <div class="valid-feedback">Valid.</div>
                    <div class="invalid-feedback">Please fill out this field.</div>
                  </div>
                  <div class="mb-3 mt-3">
                    <label class='form-label' for="lname">Book Url :</label><br />
                    <input class='form-control ' id="bookUrl" type="text" name="bookUrl" required />
                    <div class="valid-feedback">Valid.</div>
                    <div class="invalid-feedback">Please fill out this field.</div>
                  </div>

                  <div class="mb-3 mt-3">
                    <label class='form-label' for="lname">Photo:</label><br />
                    <input class='form-control' id="photo" type="file" name="photo" required />
                    <div class="valid-feedback">Valid.</div>
                    <div class="invalid-feedback">Please fill out this field.</div>
                  </div>
                  <label class='form-label' for="fname">Book Type :</label><br />
                  <select name="bookType" class="form-select">
                    <% bookTypes.forEach((bookType)=> { %>
                      <option value="<%= bookType.id %>">
                        <%= bookType.type_name %>
                      </option>
                      <% }); %>
                  </select><br />
                  <div class="mb-3 mt-3">
                    <label class='form-label' for="fname">Genres:</label><br />
                    <% genres.forEach((genre)=> { %>
                      <label>
                        <%= genre.genres_name %>
                      </label>
                      <input type="checkbox" name="genre_id" value="<%= genre.id %>" />
                      <% }); %>
                  </div>

                  <label class='form-label' for="lname">Summary:</label><br />
                  <textarea class='form-control input' type="text" name="summary"></textarea><br>


                  <button type="submit" class="btn btn-primary">Submit</button>
                </form>
    </div>

    <%- include('footer'); -%>